{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h1>Enter/Update Marks for {{ course_name }} ({{ course_id }}) - {{ year }} {{ semester }}</h1>
    <form method="POST">
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Roll No</th>
                        <th>Institute ID</th>
                        <th>Name</th>
                        <th>Internal Marks</th>
                        <th>External Marks</th>
                        <th>Grade</th>
                    </tr>
                </thead>
                <tbody>
                    {% for student in students %}
                    <tr>
                        <td>{{ student.roll_no }}</td>
                        <td>{{ student.institute_id }}</td>
                        <td>{{ student.name }}</td>
                        <td>
                            <input type="number" step="0.01" class="form-control" name="internal_marks_{{ course_id }}_{{ year }}_{{ semester }}_{{ student.roll_no }}" value="{{ student.internal_marks or '' }}" placeholder="Internal">
                        </td>
                        <td>
                            <input type="number" step="0.01" class="form-control" name="external_marks_{{ course_id }}_{{ year }}_{{ semester }}_{{ student.roll_no }}" value="{{ student.external_marks or '' }}" placeholder="External">
                        </td>
                        <td>
                            <input type="text" class="form-control" name="grade_{{ course_id }}_{{ year }}_{{ semester }}_{{ student.roll_no }}" value="{{ student.grade or '' }}" placeholder="Grade (e.g., A)">
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <button type="submit" class="btn btn-warning">Update Marks</button>
        <a href="{{ url_for('faculty_manage_marks') }}" class="btn btn-secondary">Back</a>
    </form>
</div>
{% endblock %}