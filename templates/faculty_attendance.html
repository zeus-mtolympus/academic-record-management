{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h1>Mark Attendance for {{ course_name }} ({{ course_id }}) - {{ year }} on {{ date }}</h1>
    <form method="POST">
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Roll No</th>
                        <th>Name</th>
                        <th>Current Status</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for student in students %}
                    <tr>
                        <td>{{ student.roll_no }}</td>
                        <td>{{ student.name }}</td>
                        <td>{{ student.attendance_status }}</td>
                        <td>
                            <select class="form-select" name="attendance_{{ course_id }}_{{ year }}_{{ date }}_{{ student.roll_no }}">
                                <option value="Present" {% if student.attendance_status == 'Present' %}selected{% endif %}>Present</option>
                                <option value="Absent" {% if student.attendance_status == 'Absent' %}selected{% endif %}>Absent</option>
                                <option value="Late" {% if student.attendance_status == 'Late' %}selected{% endif %}>Late</option>
                            </select>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <button type="submit" class="btn btn-success">Update Attendance</button>
        <a href="{{ url_for('faculty_mark_attendance') }}" class="btn btn-secondary">Back</a>
    </form>
</div>
{% endblock %}